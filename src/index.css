@tailwind base;
@tailwind components;
@tailwind utilities;

@keyframes typewriter-cursor {
  0%, 50% { opacity: 1; }
  51%, 100% { opacity: 0; }
}

.animate-typewriter-cursor {
  animation: typewriter-cursor 0.8s step-end infinite;
}

/* Scan loader: spin, pause, spin again, repeat */
@keyframes scan-spin {
  0% { transform: rotate(0deg); }
  40% { transform: rotate(360deg); }
  55% { transform: rotate(360deg); }
  95% { transform: rotate(720deg); }
  100% { transform: rotate(720deg); }
}

.animate-scan-spin {
  animation: scan-spin 2.2s ease-in-out infinite;
}

@keyframes lens-drift {
  0%, 100% { background-position: 48% 52%; filter: blur(0); }
  25% { filter: blur(2px); }
  50% { background-position: 54% 46%; filter: blur(3px); }
  75% { filter: blur(2px); }
}

@keyframes lens-light {
  0%, 100% { transform: translate(0, 0); }
  33% { transform: translate(8%, -6%); }
  66% { transform: translate(-6%, 5%); }
}

.animate-lens-drift {
  animation: lens-drift 18s ease-in-out infinite;
}

.animate-lens-light {
  animation: lens-light 14s ease-in-out infinite;
}

body {
  margin: 0;
  overflow-x: hidden;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
}

/* Custom cursor: only the dot/lozenge is used; no hand or pointer anywhere */
[data-custom-cursor],
[data-custom-cursor] * {
  cursor: none !important;
}

.font-headline {
  font-optical-sizing: auto;
  font-style: normal;
}

/* Footer marquee — continuous horizontal scroll (Palmer-style) */
@keyframes footer-marquee {
  0% { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}

.animate-footer-marquee {
  animation: footer-marquee 220s linear infinite;
}

/* Intro — Fabrica-style: brand mark on black, then curtain pulls up to reveal homepage */
@keyframes intro-logo-in {
  from { opacity: 0; transform: scale(0.92); }
  to { opacity: 1; transform: scale(1); }
}

/* Slower scan-spin for intro (same spin–pause–spin, longer duration) */
.animate-scan-spin-intro {
  animation: scan-spin 5s ease-in-out infinite;
}

.intro-curtain {
  will-change: transform;
}

.intro-logo {
  opacity: 0;
  animation: intro-logo-in 0.8s cubic-bezier(0.33, 1, 0.68, 1) 0.2s forwards;
}

/* Reveal on load / scroll — subtle Fabrica-style fade-up */
@keyframes reveal-in {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Cards: same fade-up plus slide in from right to left */
@keyframes reveal-in-cards {
  from {
    opacity: 0;
    transform: translate(280px, 32px);
  }
  to {
    opacity: 1;
    transform: translate(0, 0);
  }
}

.reveal-on-scroll {
  opacity: 0;
  transform: translateY(20px);
  transition: opacity 0.6s cubic-bezier(0.25, 0.1, 0.25, 1), transform 0.6s cubic-bezier(0.25, 0.1, 0.25, 1);
}

.reveal-on-scroll.reveal-in {
  opacity: 1;
  transform: translateY(0);
}

/* Top-to-bottom hierarchy: each section animates in DOM order */
.reveal-on-scroll.reveal-in.reveal-order-0 { transition-delay: 0ms; }
.reveal-on-scroll.reveal-in.reveal-order-1 { transition-delay: 120ms; }
.reveal-on-scroll.reveal-in.reveal-order-2 { transition-delay: 240ms; }
.reveal-on-scroll.reveal-in.reveal-order-3 { transition-delay: 360ms; }
.reveal-on-scroll.reveal-in.reveal-order-4 { transition-delay: 480ms; }
.reveal-on-scroll.reveal-in.reveal-order-5 { transition-delay: 600ms; }
.reveal-on-scroll.reveal-in.reveal-order-6 { transition-delay: 720ms; }

/* Staggered children (e.g. cards in a row) — fade-up + slide from right */
.reveal-on-scroll.reveal-in .reveal-stagger > * {
  animation: reveal-in-cards 0.75s cubic-bezier(0.25, 0.1, 0.25, 1) both;
}

.reveal-on-scroll.reveal-in .reveal-stagger > *:nth-child(1) { animation-delay: 0ms; }
.reveal-on-scroll.reveal-in .reveal-stagger > *:nth-child(2) { animation-delay: 60ms; }
.reveal-on-scroll.reveal-in .reveal-stagger > *:nth-child(3) { animation-delay: 120ms; }
.reveal-on-scroll.reveal-in .reveal-stagger > *:nth-child(4) { animation-delay: 180ms; }
.reveal-on-scroll.reveal-in .reveal-stagger > *:nth-child(5) { animation-delay: 240ms; }
.reveal-on-scroll.reveal-in .reveal-stagger > *:nth-child(6) { animation-delay: 300ms; }
.reveal-on-scroll.reveal-in .reveal-stagger > *:nth-child(7) { animation-delay: 360ms; }
.reveal-on-scroll.reveal-in .reveal-stagger > *:nth-child(8) { animation-delay: 420ms; }
.reveal-on-scroll.reveal-in .reveal-stagger > *:nth-child(9) { animation-delay: 480ms; }
.reveal-on-scroll.reveal-in .reveal-stagger > *:nth-child(10) { animation-delay: 540ms; }
.reveal-on-scroll.reveal-in .reveal-stagger > *:nth-child(n+11) { animation-delay: 600ms; }

/* Global modal animation: backdrop fades in, content scales up + fades in */
@keyframes modal-overlay-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes modal-content-in {
  from {
    opacity: 0;
    transform: scale(0.92);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

.modal-overlay {
  animation: modal-overlay-in 0.25s ease-out forwards;
}

.modal-content {
  animation: modal-content-in 0.3s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}
